---
inclusion: manual
---

# WBS - MVP開発計画（継続的デプロイ方式）

## フェーズ1: 設計・準備

| 項目                                                       | ステータス | Spec |
| :--------------------------------------------------------- | :--------- | :--- |
| 1.1 ステアリングファイルの作成：技術スタック               | 完了       |      |
| 1.2 基本設計：機能一覧                                     | 完了       |      |
| 1.3 ステアリングファイルの作成：実装ガイド                 | 完了       |      |
| 1.4 基本設計：テーブル設計（DynamoDB Single Table Design） | 完了       |      |
| 1.5 基本設計：API設計                                      | 完了       |      |
| 1.6 基本設計：URL設計                                      | 完了       |      |
| 1.7 基本設計：ログ設計                                     | 完了       |      |
| 1.8 基本設計：画面設計（ワイヤーフレーム）                 | 完了       |      |

## フェーズ2: インフラ・CI/CD構築（デプロイ基盤の確立）

### 2.1 プロジェクトセットアップ

| 項目                                                         | ステータス | Spec |
| :----------------------------------------------------------- | :--------- | :--- |
| 2.1.1 モノレポ構成のセットアップ（pnpm workspace）           | 完了       |      |
| 2.1.2 AWS CDK プロジェクトのセットアップ                     | 完了       |      |
| 2.1.3 バックエンド（Hono）プロジェクトのセットアップ         | 完了       |      |
| 2.1.4 フロントエンド（Next.js 16）プロジェクトのセットアップ |            |      |

### 2.2 CI/CD パイプライン構築

| 項目                                           | ステータス | Spec |
| :--------------------------------------------- | :--------- | :--- |
| 2.2.1 GitHub Actions ワークフロー作成          |            |      |
| 2.2.2 Lint / Type Check パイプライン           |            |      |
| 2.2.3 テスト実行パイプライン                   |            |      |
| 2.2.4 ビルドパイプライン                       |            |      |
| 2.2.5 CDK デプロイパイプライン（dev/stg/prod） |            |      |
| 2.2.6 フロントエンドデプロイパイプライン       |            |      |

### 2.3 AWS インフラ構築

| 項目                                        | ステータス | Spec |
| :------------------------------------------ | :--------- | :--- |
| 2.3.1 DynamoDB テーブルの構築               |            |      |
| 2.3.2 Cognito ユーザープールの構築          |            |      |
| 2.3.3 Lambda + API Gateway の構築           |            |      |
| 2.3.4 S3 + CloudFront の構築                |            |      |
| 2.3.5 Route 53 ドメイン設定                 |            |      |
| 2.3.6 EventBridge Scheduler の構築          |            |      |
| 2.3.7 CloudWatch アラート・モニタリング設定 |            |      |
| 2.3.8 cdk-nag によるセキュリティチェック    |            |      |

### 🚀 マイルストーン: 開発環境デプロイ完了・CI/CD稼働開始

---

## フェーズ3: 認証機能（継続的デプロイ）

### 3.1 バックエンド開発

| 項目                               | ステータス | Spec |
| :--------------------------------- | :--------- | :--- |
| 3.1.1 ユーザー登録 API             |            |      |
| 3.1.2 ログイン API                 |            |      |
| 3.1.3 パスワードリセット API       |            |      |
| 3.1.4 JWT トークン検証ミドルウェア |            |      |
| 3.1.5 単体テスト作成               |            |      |

### 3.2 フロントエンド開発

| 項目                         | ステータス | Spec |
| :--------------------------- | :--------- | :--- |
| 3.2.1 ログイン画面           |            |      |
| 3.2.2 ユーザー登録画面       |            |      |
| 3.2.3 パスワードリセット画面 |            |      |
| 3.2.4 認証状態管理           |            |      |
| 3.2.5 単体テスト作成         |            |      |

### 🚀 デプロイ: 認証機能を開発環境にデプロイ

---

## フェーズ4: ユーザー管理機能（継続的デプロイ）

### 4.1 バックエンド開発

| 項目                               | ステータス | Spec |
| :--------------------------------- | :--------- | :--- |
| 4.1.1 プロフィール取得 API         |            |      |
| 4.1.2 プロフィール更新 API         |            |      |
| 4.1.3 アイコン画像アップロード API |            |      |
| 4.1.4 単体テスト作成               |            |      |

### 4.2 フロントエンド開発

| 項目                           | ステータス | Spec |
| :----------------------------- | :--------- | :--- |
| 4.2.1 プロフィール表示画面     |            |      |
| 4.2.2 プロフィール編集画面     |            |      |
| 4.2.3 アイコン画像アップロード |            |      |
| 4.2.4 単体テスト作成           |            |      |

### 🚀 デプロイ: ユーザー管理機能を開発環境にデプロイ

---

## フェーズ5: 対局管理機能（継続的デプロイ）

### 5.1 バックエンド開発

| 項目                             | ステータス | Spec |
| :------------------------------- | :--------- | :--- |
| 5.1.1 オセロゲームロジックの実装 |            |      |
| 5.1.2 対局一覧取得 API           |            |      |
| 5.1.3 対局詳細取得 API           |            |      |
| 5.1.4 対局作成 API               |            |      |
| 5.1.5 対局終了判定ロジック       |            |      |
| 5.1.6 単体テスト作成             |            |      |

### 5.2 フロントエンド開発

| 項目                           | ステータス | Spec |
| :----------------------------- | :--------- | :--- |
| 5.2.1 対局一覧画面             |            |      |
| 5.2.2 対局詳細画面             |            |      |
| 5.2.3 対局作成画面             |            |      |
| 5.2.4 オセロ盤面コンポーネント |            |      |
| 5.2.5 棋譜表示コンポーネント   |            |      |
| 5.2.6 単体テスト作成           |            |      |

### 🚀 デプロイ: 対局管理機能を開発環境にデプロイ

---

## フェーズ6: 投票機能（継続的デプロイ）

### 6.1 バックエンド開発

| 項目                           | ステータス | Spec |
| :----------------------------- | :--------- | :--- |
| 6.1.1 次の一手候補一覧取得 API |            |      |
| 6.1.2 候補投稿 API             |            |      |
| 6.1.3 投票 API                 |            |      |
| 6.1.4 投票変更 API             |            |      |
| 6.1.5 投票状況取得 API         |            |      |
| 6.1.6 単体テスト作成           |            |      |

### 6.2 フロントエンド開発

| 項目                           | ステータス | Spec |
| :----------------------------- | :--------- | :--- |
| 6.2.1 次の一手候補一覧表示     |            |      |
| 6.2.2 候補投稿フォーム         |            |      |
| 6.2.3 投票ボタン・投票状況表示 |            |      |
| 6.2.4 盤面上での手の選択UI     |            |      |
| 6.2.5 単体テスト作成           |            |      |

### 🚀 デプロイ: 投票機能を開発環境にデプロイ

---

## フェーズ7: AI機能（継続的デプロイ）

### 7.1 バックエンド開発

| 項目                           | ステータス | Spec |
| :----------------------------- | :--------- | :--- |
| 7.1.1 Bedrock (Nova Pro) 統合  |            |      |
| 7.1.2 次の一手候補生成ロジック |            |      |
| 7.1.3 対局解説生成ロジック     |            |      |
| 7.1.4 AI の手の実行ロジック    |            |      |
| 7.1.5 単体テスト作成           |            |      |

### 7.2 フロントエンド開発

| 項目                    | ステータス | Spec |
| :---------------------- | :--------- | :--- |
| 7.2.1 AI 生成候補の表示 |            |      |
| 7.2.2 対局解説の表示    |            |      |
| 7.2.3 単体テスト作成    |            |      |

### 🚀 デプロイ: AI機能を開発環境にデプロイ

---

## フェーズ8: バッチ処理（継続的デプロイ）

| 項目                     | ステータス | Spec |
| :----------------------- | :--------- | :--- |
| 8.1 投票締切・集計バッチ |            |      |
| 8.2 次の一手確定処理     |            |      |
| 8.3 AI 候補生成バッチ    |            |      |
| 8.4 対局状態更新バッチ   |            |      |
| 8.5 単体テスト作成       |            |      |

### 🚀 デプロイ: バッチ処理を開発環境にデプロイ

---

## フェーズ9: シェア機能（継続的デプロイ）

### 9.1 バックエンド開発

| 項目                   | ステータス | Spec |
| :--------------------- | :--------- | :--- |
| 9.1.1 OGP 画像生成 API |            |      |
| 9.1.2 単体テスト作成   |            |      |

### 9.2 フロントエンド開発

| 項目                             | ステータス | Spec |
| :------------------------------- | :--------- | :--- |
| 9.2.1 シェアボタンコンポーネント |            |      |
| 9.2.2 メタタグ設定               |            |      |
| 9.2.3 単体テスト作成             |            |      |

### 🚀 デプロイ: シェア機能を開発環境にデプロイ

---

## フェーズ10: 統合テスト・品質保証

| 項目                         | ステータス | Spec |
| :--------------------------- | :--------- | :--- |
| 10.1 API 統合テスト          |            |      |
| 10.2 E2Eテスト（主要フロー） |            |      |
| 10.3 パフォーマンステスト    |            |      |
| 10.4 セキュリティテスト      |            |      |
| 10.5 バグ修正                |            |      |

### 🚀 デプロイ: ステージング環境にデプロイ

---

## フェーズ11: 本番リリース

| 項目                        | ステータス | Spec |
| :-------------------------- | :--------- | :--- |
| 11.1 本番環境最終確認       |            |      |
| 11.2 本番環境デプロイ       |            |      |
| 11.3 リリース後モニタリング |            |      |
| 11.4 ドキュメント作成       |            |      |
| 11.5 MVP リリース完了       |            |      |

---

## 開発方針

### 継続的デプロイの流れ

1. **フェーズ2完了時点**: CI/CD パイプラインが稼働し、以降は自動デプロイ
2. **フェーズ3〜9**: 各機能開発完了ごとに開発環境へ自動デプロイ
3. **フェーズ10**: 統合テスト完了後、ステージング環境へデプロイ
4. **フェーズ11**: 最終確認後、本番環境へデプロイ

### 並行作業可能な項目

- フェーズ3〜9: バックエンドとフロントエンドは API 設計完了後に並行開発可能
- 各フェーズの単体テストは開発と並行して作成

### デプロイ環境

- **開発環境（dev）**: フェーズ3〜9で継続的にデプロイ
- **ステージング環境（stg）**: フェーズ10で統合テスト後にデプロイ
- **本番環境（prod）**: フェーズ11で最終確認後にデプロイ
